specVersion: 1.0.0
indexerHints:
  prune: auto
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: PotFactory
    network: {{ network }}
    source:
      address: "{{ address }}"
      abi: PotFactory
      startBlock: {{ startBlock }}
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - AdminChanged
        - BeraFeeChanged
        - PassesAddressChanged
        - DefaultFundraisingPeriodChanged
        - DefaultLockingPeriodChanged
        - ManagerExitFeeChanged
        - MaxCapacityPerPotChanged
        - MaxPerformanceFeeChanged
        - MaximumSupportedAssetCountChanged
        - MinInvestmentAmountChanged
        - OwnershipTransferred
        - Paused
        - FlexiblePotCreated
        - NonFlexiblePotCreated
        - PotImplementationChanged
        - ProtocolExitFeeChanged
        - TokenAdded
        - TokenRemoved
        - TreasuryChanged
        - Unpaused
        - UsdTokenChanged
      abis:
        - name: PotFactory
          file: ./abis/PotFactory.json
      eventHandlers:
        - event: AdminChanged(indexed address)
          handler: handleAdminChanged
        - event: BeraFeeChanged(uint256)
          handler: handleBeraFeeChanged
        - event: PassesAddressChanged(indexed address)
          handler: handlePassesAddressChanged
        - event: DefaultFundraisingPeriodChanged(uint256)
          handler: handleDefaultFundraisingPeriodChanged
        - event: DefaultLockingPeriodChanged(uint256)
          handler: handleDefaultLockingPeriodChanged
        - event: ManagerExitFeeChanged(uint256,uint256)
          handler: handleManagerExitFeeChanged
        - event: MaxCapacityPerPotChanged(uint256)
          handler: handleMaxCapacityPerPotChanged
        - event: MaxPerformanceFeeChanged(uint256)
          handler: handleMaxPerformanceFeeChanged
        - event: MaximumSupportedAssetCountChanged(uint256)
          handler: handleMaximumSupportedAssetCountChanged
        - event: MinInvestmentAmountChanged(uint256)
          handler: handleMinInvestmentAmountChanged
        - event: OwnershipTransferred(indexed address,indexed address)
          handler: handleOwnershipTransferred
        - event: Paused(address)
          handler: handlePaused
        - event: FlexiblePotCreated(indexed address,indexed address,uint256,uint256,uint256,indexed
            address,uint256,uint256,uint256,uint8)
          handler: handleFlexiblePotCreated
        - event: NonFlexiblePotCreated(indexed address,indexed address,uint256,uint256,indexed
            address,uint256,uint256,uint256,uint8)
          handler: handleNonFlexiblePotCreated
        - event: PotImplementationChanged(uint8,indexed address,uint32)
          handler: handlePotImplementationChanged
        - event: ProtocolExitFeeChanged(uint256,uint256)
          handler: handleProtocolExitFeeChanged
        - event: TokenAdded(address,uint16)
          handler: handleTokenAdded
        - event: TokenRemoved(address)
          handler: handleTokenRemoved
        - event: TreasuryChanged(indexed address)
          handler: handleTreasuryChanged
        - event: Unpaused(address)
          handler: handleUnpaused
        - event: UsdTokenChanged(indexed address)
          handler: handleUsdTokenChanged
      file: ./src/pot-factory.ts
  - kind: ethereum
    name: Governance
    network: {{ network }}
    source:
      address: "{{ governance }}"
      abi: Governance
      startBlock: {{ startBlock }}
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - AssetGuardSet
        - AssetTypeSet
        - ContractGuardSet
        - Initialized
        - OwnershipTransferred
      abis:
        - name: Governance
          file: ./abis/Governance.json
      eventHandlers:
        - event: AssetGuardSet(uint16,address)
          handler: handleAssetGuardSet
        - event: ContractGuardSet(address,address)
          handler: handleContractGuardSet
      file: ./src/governance.ts
  - kind: ethereum
    name: KodiakGuard
    network: {{ network }}
    source:
      address: "{{ kodiakGuard }}"
      abi: KodiakGuard
      startBlock: {{ startBlock }}
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - ExchangeFrom
        - ExchangeTo
      abis:
        - name: KodiakGuard
          file: ./abis/KodiakGuard.json
      eventHandlers:
        - event: ExchangeFrom(address,address,address,uint256,address)
          handler: handleExchangeFrom
        - event: ExchangeTo(address,address,address,address,uint256)
          handler: handleExchangeTo
      file: ./src/kodiak-guard.ts
  - kind: ethereum
    name: KodiakLiquidityGuard
    network: {{ network }}
    source:
      address: "{{ kodiakLiquidityGuard }}"
      abi: KodiakLiquidityGuard
      startBlock: {{ startBlock }}
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - AddLiquidity
        - RemoveLiquidity
      abis:
        - name: KodiakLiquidityGuard
          file: ./abis/KodiakLiquidityGuard.json
      eventHandlers:
        - event: AddLiquidity(address,address,address,bytes)
          handler: handleAddLiquidity
        - event: RemoveLiquidity(address,address,address,bytes)
          handler: handleRemoveLiquidity
      file: ./src/kodiak-liquidity-guard.ts
  - kind: ethereum
    name: MemeSwapGuard
    network: {{ network }}
    source:
      address: "{{ memeSwapGuard }}"
      abi: MemeSwapGuard
      startBlock: {{ startBlock }}
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - ExchangeFrom
        - ExchangeTo
      abis:
        - name: MemeSwapGuard
          file: ./abis/MemeSwapGuard.json
      eventHandlers:
        - event: ExchangeFrom(address,address,address,uint256,address)
          handler: handleExchangeFrom
        - event: ExchangeTo(address,address,address,address,uint256)
          handler: handleExchangeTo
      file: ./src/meme-swap-guard.ts
  - kind: ethereum
    name: OogaboogaGuard
    network: {{ network }}
    source:
      address: "{{ oogaboogaGuard }}"
      abi: OogaboogaGuard
      startBlock: {{ startBlock }}
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - ExchangeFrom
        - ExchangeTo
      abis:
        - name: OogaboogaGuard
          file: ./abis/OogaboogaGuard.json
      eventHandlers:
        - event: ExchangeFrom(address,address,address,uint256,address)
          handler: handleExchangeFrom
        - event: ExchangeTo(address,address,address,address,uint256)
          handler: handleExchangeTo
      file: ./src/oogabooga-guard.ts
  - kind: ethereum
    name: ERC20Guard
    network: {{ network }}
    source:
      address: "{{ erc20Guard }}"
      abi: ERC20Guard
      startBlock: {{ startBlock }}
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - ERC20Approval
      abis:
        - name: ERC20Guard
          file: ./abis/ERC20Guard.json
      eventHandlers:
        - event: ERC20Approval(address,address,address,uint256)
          handler: handleERC20Approval
      file: ./src/erc-20-guard.ts
  - kind: ethereum
    name: ERC20KodiakLPGuard
    network: {{ network }}
    source:
      address: "{{ erc20KodiakLPGuard }}"
      abi: ERC20KodiakLPGuard
      startBlock: {{ startBlock }}
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - ERC20Approval
      abis:
        - name: ERC20KodiakLPGuard
          file: ./abis/ERC20KodiakLPGuard.json
      eventHandlers:
        - event: ERC20Approval(address,address,address,uint256)
          handler: handleERC20Approval
      file: ./src/erc-20-kodiak-lp-guard.ts
templates:
  - kind: ethereum
    name: FlexiblePot
    network: {{network}}
    source:
      abi: FlexiblePot
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Approval
        - AssetAdded
        - AssetRemoved
        - Canceled
        - Claimed
        - Deposited
        - Executed
        - FundraisingClosed
        - PotInitialized
        - Transfer
        - Withdrawn
      abis:
        - name: FlexiblePot
          file: ./abis/FlexiblePot.json
      eventHandlers:
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: AssetAdded(indexed address,address)
          handler: handleAssetAdded
        - event: AssetRemoved(address,address)
          handler: handleAssetRemoved
        - event: Canceled(indexed address,uint256,uint256)
          handler: handleCanceled
        - event: Claimed(indexed address,indexed address,uint256,address,uint256)
          handler: handleClaimed
        - event: Deposited(indexed address,indexed address,address,uint256,uint256)
          handler: handleDeposited
        - event: Executed(indexed address,address,uint16)
          handler: handleExecuted
          receipt: true
        - event: FundraisingClosed(indexed address,uint256,uint256,uint256,uint256)
          handler: handleFundraisingClosed
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Withdrawn(indexed address,uint256,indexed
            address,uint256,(address,uint256,uint256,uint256,uint256)[])
          handler: handleWithdrawn
      file: ./src/flexible-pot.ts
  - kind: ethereum
    name: NonFlexiblePot
    network: {{network}}
    source:
      abi: NonFlexiblePot
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Approval
        - AssetAdded
        - AssetRemoved
        - Canceled
        - Claimed
        - Deposited
        - Executed
        - FundraisingClosed
        - PotInitialized
        - Transfer
        - Withdrawn
      abis:
        - name: NonFlexiblePot
          file: ./abis/NonFlexiblePot.json
      eventHandlers:
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: AssetAdded(indexed address,address)
          handler: handleAssetAdded
        - event: AssetRemoved(address,address)
          handler: handleAssetRemoved
        - event: Canceled(indexed address,uint256,uint256)
          handler: handleCanceled
        - event: Claimed(indexed address,indexed address,uint256,address,uint256)
          handler: handleClaimed
        - event: Deposited(indexed address,indexed address,address,uint256,uint256)
          handler: handleDeposited
        - event: Executed(indexed address,address,uint16)
          handler: handleExecuted
          receipt: true
        - event: FundraisingClosed(indexed address,uint256,uint256,uint256)
          handler: handleFundraisingClosed
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Withdrawn(indexed address,uint256,indexed
            address,uint256,(address,uint256,uint256,uint256,uint256)[])
          handler: handleWithdrawn
      file: ./src/non-flexible-pot.ts
